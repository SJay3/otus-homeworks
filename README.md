# Автоматизированные тесты для домашних заданий DevOps курса в OTUS

Все тесты выполняются внутри докер контейнера express42/otus-homeworks.

**Как выполняются тесты.** Когда студент создает ветку/PR и коммитит в них, Travis запускает `run.sh` из этого репозитория, который клонирует весь реп в папку linting, устанавливает докер и запускает для тесты на проверку валидации файлов.

**Как запускаются тесты.** `run.sh` дергает файл `./linting/tests/run.sh` в котором описано выполнение действий, необходимых для проверки корректности файлов дз.

**Структура директорий в контейнере во время выполнения тестов.** Travis клонирует ветку пользователя, заходит в нее, потом скрипт клонирует папку с тестами, затем запускается контейнер и монтирует папку в `/srv`(она же workdirectory). В результате структура папок во время выполнения следующая:

```
README.md -- файлы из репозитория пользователя
... 
linting -- папка с автотестами
```


## Пример .travis.yml

```yaml
dist: trusty
language: bash
sudo: required

before_install:
  - curl https://raw.githubusercontent.com/SJay3/otus-homeworks/linting-tests/run.sh | bash
```
